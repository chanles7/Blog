(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-054e07d1"],{"0944":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"message-banner",style:t.cover},[e("div",{staticClass:"message-container"},[e("h1",{staticClass:"message-title"},[t._v("留言板")]),e("div",{staticClass:"animated fadeInUp message-input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{placeholder:"说点什么吧"},domProps:{value:t.content},on:{click:function(e){t.show=!0},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addToList.apply(null,arguments)},input:function(e){e.target.composing||(t.content=e.target.value)}}}),e("button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"ml-3 animated bounceInLeft",on:{click:t.addToList}},[t._v(" 发送 ")])])]),e("div",{staticClass:"barrage-container"},[e("vue-baberrage",{attrs:{barrageList:t.barrageList},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"barrage-items"},[e("img",{staticStyle:{"border-radius":"50%"},attrs:{src:s.item.avatar,width:"30",height:"30"}}),e("span",{staticClass:"ml-2"},[t._v(t._s(s.item.nickname)+" :")]),e("span",{staticClass:"ml-2"},[t._v(t._s(s.item.content))])])]}}])})],1)])])},n=[],i=(s("14d9"),s("365c")),r={metaInfo:{meta:[{name:"keyWords",content:"北极星,开源博客,www.chales.online"},{name:"description",content:"一个专注于技术分享的博客平台,大家以共同学习,乐于分享,拥抱开源的价值观进行学习交流"}]},mounted(){this.listMessage()},data(){return{show:!1,img:"http://img.shiyit.com/",content:"",count:null,timer:null,barrageList:[]}},methods:{addToList(){if(this.count)return this.$toast({type:"error",message:"30秒后才能再次留言"}),!1;if(""===this.content.trim())return this.$toast({type:"error",message:"留言不能为空"}),!1;const t=this.$store.state.avatar?this.$store.state.avatar:this.$store.state.blogInfo.webSite.touristAvatar,e=this.$store.state.nickname?this.$store.state.nickname:"游客";var s={avatar:t,status:1,nickname:e,content:this.content,time:Math.floor(3*Math.random())+7};this.barrageList.push(s),this.content="",Object(i["d"])(s);const a=30;this.timer||(this.count=a,this.timer=setInterval(()=>{this.count>0&&this.count<=30?this.count--:(clearInterval(this.timer),this.timer=null)},1e3))},listMessage(){Object(i["u"])().then(t=>{this.barrageList=t.data})}},computed:{cover(){var t="";return this.$store.state.blogInfo.pageList.forEach(e=>{"message"==e.pageLabel&&(t=e.pageCover)}),"background: url("+t+") center center / cover no-repeat"}}},o=r,c=(s("7b88"),s("2877")),l=Object(c["a"])(o,a,n,!1,null,"48639f1a",null);e["default"]=l.exports},"7b88":function(t,e,s){"use strict";s("be70")},be70:function(t,e,s){}}]);
//# sourceMappingURL=chunk-054e07d1.8aa407e1.js.map